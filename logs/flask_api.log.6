2024-08-02 04:42:43,107 INFO: generate [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:42:43,178 INFO: check_code [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:43:18,151 INFO: generate [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:43:18,231 INFO: check_code [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:43:57,155 INFO: generate [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:43:57,218 INFO: check_code [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:44:36,547 INFO: generate [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:44:36,646 INFO: check_code [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:45:13,652 INFO: generate [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:45:13,718 INFO: check_code [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:45:52,119 INFO: generate [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:45:52,210 INFO: check_code [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:46:25,530 INFO: generate [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:46:25,603 INFO: check_code [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:47:00,344 INFO: generate [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:47:00,403 INFO: check_code [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:47:36,634 INFO: generate [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:47:36,704 INFO: check_code [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:48:07,687 INFO: generate [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:48:07,743 INFO: check_code [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:57]
2024-08-02 04:48:37,495 INFO: Flask API startup [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/__init__.py:71]
2024-08-02 04:52:24,118 INFO: Flask API startup [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/__init__.py:71]
2024-08-02 04:54:20,346 INFO: Flask API startup [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/__init__.py:71]
2024-08-02 04:57:32,649 INFO: Updating smart contract... [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:93]
2024-08-02 04:57:56,750 INFO: reflect [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:112]
2024-08-02 04:57:56,751 INFO: {"reflect": {"contract": "// SPDX-License-Identifier: GPL-3.0\npragma solidity ^0.8.26;\n\ncontract LoanContract {\n    // State variables\n    address public borrower;\n    address public lender;\n    uint public loanAmount;\n    uint public interestRate;\n    uint public loanDuration;\n    uint public totalRepayment;\n    bool public loanActive;\n\n    // Mapping to track loan status\n    mapping(address => bool) public loanStatus;\n\n    // Events\n    event LoanInitiated(address indexed borrower, uint amount, uint interestRate);\n    event LoanRepaid(address indexed borrower, uint amount);\n    event LatePayment(address indexed borrower, uint amount);\n\n    // Constructor to initialize the loan parameters\n    constructor(address _lender) {\n        lender = _lender;\n        loanAmount = 10 ether; // 10 ETH\n        interestRate = 3; // 3%\n        loanDuration = 365 days; // 1 year\n        loanActive = false;\n    }\n\n    // Function to initiate the loan\n    function initiateLoan() external {\n        require(msg.sender != lender, \"Lender cannot be the borrower.\");\n        require(!loanActive, \"Loan is already active.\");\n\n        borrower = msg.sender;\n        loanActive = true;\n        totalRepayment = loanAmount + (loanAmount * interestRate / 100);\n\n        emit LoanInitiated(borrower, loanAmount, interestRate);\n    }\n\n    // Function to calculate total repayment amount\n    function calculateTotalRepayment() external view returns (uint) {\n        require(loanActive, \"Loan is not active.\");\n        return totalRepayment;\n    }\n\n    // Function to repay the loan\n    function repayLoan() external payable {\n        require(msg.sender == borrower, \"Only borrower can repay the loan.\");\n        require(loanActive, \"Loan is not active.\");\n        require(msg.value == totalRepayment, \"Incorrect repayment amount.\");\n\n        loanActive = false;\n        loanStatus[borrower] = true;\n\n        emit LoanRepaid(borrower, msg.value);\n    }\n\n    // Function to check remaining balance of the loan\n    function remainingBalance() external view returns (uint) {\n        require(loanActive, \"Loan is not active.\");\n        return totalRepayment - address(this).balance;\n    }\n\n    // Function to handle late payments\n    function handleLatePayment() external {\n        require(msg.sender == borrower, \"Only borrower can report late payment.\");\n        require(loanActive, \"Loan is not active.\");\n\n        // Logic for handling late payment (e.g., penalties)\n        // For simplicity, we just emit an event\n        emit LatePayment(borrower, totalRepayment);\n    }\n}", "compiler_version": "0.8.26"}} [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:119]
2024-08-02 04:57:56,848 INFO: check_code [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:112]
2024-08-02 04:57:56,849 INFO: {"check_code": {"error": "no", "error_message": ""}} [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:119]
2024-08-02 04:58:04,024 INFO: document [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/routes.py:112]
