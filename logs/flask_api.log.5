2024-07-25 23:33:15,451 INFO: Response from model: content='Function Name: ERC20Token\nCode: \n```solidity\n// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\ninterface IERC20 {\n    function totalSupply() external view returns (uint256);\n    function balanceOf(address account) external view returns (uint256);\n    function transfer(address recipient, uint256 amount) external returns (bool);\n    function allowance(address owner, address spender) external view returns (uint256);\n    function approve(address spender, uint256 amount) external returns (bool);\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\n\n    event Transfer(address indexed from, address indexed to, uint256 value);\n    event Approval(address indexed owner, address indexed spender, uint256 value);\n}\n\ncontract ERC20Token is IERC20 {\n    string public name;\n    string public symbol;\n    uint8 public decimals;\n    uint256 private _totalSupply;\n    address public owner;\n\n    mapping(address => uint256) private _balances;\n    mapping(address => mapping(address => uint256)) private _allowances;\n\n    event Mint(address indexed to, uint256 amount);\n    event Burn(address indexed from, uint256 amount);\n\n    modifier onlyOwner() {\n        require(msg.sender == owner, "Only owner can call this function");\n        _;\n    }\n\n    constructor(string memory _name, string memory _symbol, uint8 _decimals, uint256 initialSupply) {\n        name = _name;\n        symbol = _symbol;\n        decimals = _decimals;\n        _totalSupply = initialSupply;\n        owner = msg.sender;\n        _balances[msg.sender] = initialSupply;\n    }\n\n    function totalSupply() public view override returns (uint256) {\n        return _totalSupply;\n    }\n\n    function balanceOf(address account) public view override returns (uint256) {\n        return _balances[account];\n    }\n\n    function transfer(address recipient, uint256 amount) public override returns (bool) {\n        require(_balances[msg.sender] >= amount, "Insufficient balance");\n        _balances[msg.sender] -= amount;\n        _balances[recipient] += amount;\n        emit Transfer(msg.sender, recipient, amount);\n        return true;\n    }\n\n    function allowance(address owner, address spender) public view override returns (uint256) {\n        return _allowances[owner][spender];\n    }\n\n    function approve(address spender, uint256 amount) public override returns (bool) {\n        _allowances[msg.sender][spender] = amount;\n        emit Approval(msg.sender, spender, amount);\n        return true;\n    }\n\n    function transferFrom(address sender, address recipient, uint256 amount) public override returns (bool) {\n        require(_allowances[sender][msg.sender] >= amount, "Allowance exceeded");\n        require(_balances[sender] >= amount, "Insufficient balance");\n        _balances[sender] -= amount;\n        _balances[recipient] += amount;\n        _allowances[sender][msg.sender] -= amount;\n        emit Transfer(sender, recipient, amount);\n        return true;\n    }\n\n    function mint(address account, uint256 amount) public onlyOwner {\n        _totalSupply += amount;\n        _balances[account] += amount;\n        emit Mint(account, amount);\n    }\n\n    function burn(address account, uint256 amount) public onlyOwner {\n        require(_balances[account] >= amount, "Insufficient balance to burn");\n        _totalSupply -= amount;\n        _balances[account] -= amount;\n        emit Burn(account, amount);\n    }\n}\n```\nDescription: The ERC20Token contract implements the ERC20 interface and provides functions for managing an ERC20 token. It includes functions for transferring tokens, approving token transfers, checking balances, minting new tokens, and burning tokens. The contract also includes an onlyOwner modifier to restrict certain functions to be called only by the owner of the contract.' response_metadata={'token_usage': {'completion_tokens': 793, 'prompt_tokens': 911, 'total_tokens': 1704}, 'model_name': 'gpt-3.5-turbo-0125', 'system_fingerprint': None, 'finish_reason': 'stop', 'logprobs': None} id='run-c126929d-6cb5-4a55-9805-f577e048c8c5-0' usage_metadata={'input_tokens': 911, 'output_tokens': 793, 'total_tokens': 1704} [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/smart_contract_generator/describe_smart_contract_functions.py:27]
2024-07-25 23:33:15,457 INFO: Raw smart contract details response: [FunctionDescription(function_name='ERC20Token', code='// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\ninterface IERC20 {\n    function totalSupply() external view returns (uint256);\n    function balanceOf(address account) external view returns (uint256);\n    function transfer(address recipient, uint256 amount) external returns (bool);\n    function allowance(address owner, address spender) external view returns (uint256);\n    function approve(address spender, uint256 amount) external returns (bool);\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\n\n    event Transfer(address indexed from, address indexed to, uint256 value);\n    event Approval(address indexed owner, address indexed spender, uint256 value);\n}\n\ncontract ERC20Token is IERC20 {\n    string public name;\n    string public symbol;\n    uint8 public decimals;\n    uint256 private _totalSupply;\n    address public owner;\n\n    mapping(address => uint256) private _balances;\n    mapping(address => mapping(address => uint256)) private _allowances;\n\n    event Mint(address indexed to, uint256 amount);\n    event Burn(address indexed from, uint256 amount);\n\n    modifier onlyOwner() {\n        require(msg.sender == owner, "Only owner can call this function");\n        _;\n    }\n\n    constructor(string memory _name, string memory _symbol, uint8 _decimals, uint256 initialSupply) {\n        name = _name;\n        symbol = _symbol;\n        decimals = _decimals;\n        _totalSupply = initialSupply;\n        owner = msg.sender;\n        _balances[msg.sender] = initialSupply;\n    }\n\n    function totalSupply() public view override returns (uint256) {\n        return _totalSupply;\n    }\n\n    function balanceOf(address account) public view override returns (uint256) {\n        return _balances[account];\n    }\n\n    function transfer(address recipient, uint256 amount) public override returns (bool) {\n        require(_balances[msg.sender] >= amount, "Insufficient balance");\n        _balances[msg.sender] -= amount;\n        _balances[recipient] += amount;\n        emit Transfer(msg.sender, recipient, amount);\n        return true;\n    }\n\n    function allowance(address owner, address spender) public view override returns (uint256) {\n        return _allowances[owner][spender];\n    }\n\n    function approve(address spender, uint256 amount) public override returns (bool) {\n        _allowances[msg.sender][spender] = amount;\n        emit Approval(msg.sender, spender, amount);\n        return true;\n    }\n\n    function transferFrom(address sender, address recipient, uint256 amount) public override returns (bool) {\n        require(_allowances[sender][msg.sender] >= amount, "Allowance exceeded");\n        require(_balances[sender] >= amount, "Insufficient balance");\n        _balances[sender] -= amount;\n        _balances[recipient] += amount;\n        _allowances[sender][msg.sender] -= amount;\n        emit Transfer(sender, recipient, amount);\n        return true;\n    }\n\n    function mint(address account, uint256 amount) public onlyOwner {\n        _totalSupply += amount;\n        _balances[account] += amount;\n        emit Mint(account, amount);\n    }\n\n    function burn(address account, uint256 amount) public onlyOwner {\n        require(_balances[account] >= amount, "Insufficient balance to burn");\n        _totalSupply -= amount;\n        _balances[account] -= amount;\n        emit Burn(account, amount);\n    }\n}', description='The ERC20Token contract implements the ERC20 interface and provides functions for managing an ERC20 token. It includes functions for transferring tokens, approving token transfers, checking balances, minting new tokens, and burning tokens. The contract also includes an onlyOwner modifier to restrict certain functions to be called only by the owner of the contract.')] [in /Users/bilal/Documents/comsc/kings/individual-project/Tokenize/backend/app/ai/generate_smart_contract.py:28]
